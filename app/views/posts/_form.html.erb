<div class="container post_form">
  <%= render "shared/error_messages" %>
  <h2 class="form_title"><%= form_title %></h2>
  <%= form_with model: post do |f| %>
    <div class='form-group'>
      <%= f.label :title, 'タイトル' %>
      <%= f.text_field :title, class: 'form-control' %>
    </div>
    <div class="form-group">
      <%= f.label :body, '本文' %>
      <%= f.text_area :body, class: 'form-control', rows: 10 %>
    </div>
    <div class="form-group">
      <%= f.label :image, '画像ファイル' %>
      <%= f.file_field :image, accept: 'image/jpeg,image/gif,image/png' %>
    </div>

    <%= submit_tag '登録', class: 'btn btn-primary' %>
  <% end %>
</div>

<script type="text/javascript">
$('#post_image').bind('change', function() {
  var size_in_megabytes = this.files[0].size/1024/1024;
  if (size_in_megabytes > 5) {
    alert('ファイルサイズは5MB以下にしてください。');
  }
});
</script>